import{_ as p,C as r,c as o,o as h,a4 as d,G as a,j as e,w as l,a as i}from"./chunks/framework.DvxGzD5L.js";const b=JSON.parse('{"title":"2. Llançar excepcions (throw)","description":"","frontmatter":{},"headers":[],"relativePath":"2-llançar.md","filePath":"2-llançar.md"}'),c={name:"2-llançar.md"};function k(u,s,E,g,m,x){const n=r("PluginTabsTab"),t=r("PluginTabs");return h(),o("div",null,[s[5]||(s[5]=d("",6)),a(t,null,{default:l(()=>[a(n,{label:"Java"},{default:l(()=>s[0]||(s[0]=[e("p",null,[i("Per a llançar l'excepció s'utilitza la paraula reservada "),e("code",null,"throw"),i(" seguit d'un objecte de tipus "),e("em",null,[e("strong",null,"Exception")]),i(" (o alguna de les seues subclasses com "),e("em",null,"ArithmeticException, NumberFormatException, ArrayIndexOutOfBoundsException"),i(", etc.). Com les excepcions són objectes, deuen instanciar-se amb "),e("code",null,"new"),i(". Per tant, "),e("strong",null,"podem llançar una excepció genèrica així"),i(":")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Exception"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")])])])],-1),e("p",null,[i("Això és equivalent a primer instanciar l'objecte "),e("em",null,"Exception"),i(" i després llançar-lo:")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Exception e "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Exception"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"throw"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," e;")])])])],-1),e("p",null,[i("El constructor de "),e("em",null,[e("strong",null,"Exception")]),i(" permet (opcionalment) un argument "),e("code",null,"String"),i(" per a donar detalls sobre el problema. Si l'excepció no es maneja i el programa es para, el missatge d'error es mostrarà per la consola (això és molt útil per a depurar programes).")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Exception"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"L'edat no pot ser negativa"`),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")])])])],-1),e("p",null,[i("En lloc de llançar excepcions genèriques ("),e("em",null,"Exception"),i("), també és possible llançar excepcions específiques de Java com per exemple "),e("em",null,"ArrayIndexOutOfBoundsException, ArithmeticException, NumberFormatException"),i(", etc. A Java totes les classes d'excepcions hereten de "),e("em",null,"Exception"),i(".")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," NumberFormatException"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"..."'),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")])])])],-1),e("div",{class:"warning custom-block"},[e("p",{class:"custom-block-title"},[e("strong",null,"ATENCIÓ")]),e("p",null,[i("En lloc de llançar excepcions pròpies de Java ("),e("em",null,"ArithmeticException, NumberFormatException, ArrayIndexOutOfBoundsException"),i(", etc.) "),e("strong",null,[i("normalment és preferible llançar excepcions genèriques "),e("em",null,[e("strong",null,"Exception")]),i(" o millor encara, utilitzar les nostres pròpies excepcions")]),i(" (apartat 5).")])],-1)])),_:1,__:[0]})]),_:1}),s[6]||(s[6]=e("h2",{id:"_2-3-indicar-l-excepcio-en-la-capcalera-del-metode",tabindex:"-1"},[i("2.3. Indicar l'excepció en la capçalera del mètode "),e("a",{class:"header-anchor",href:"#_2-3-indicar-l-excepcio-en-la-capcalera-del-metode","aria-label":`Permalink to "2.3. Indicar l'excepció en la capçalera del mètode"`},"​")],-1)),a(t,null,{default:l(()=>[a(n,{label:"Java"},{default:l(()=>s[1]||(s[1]=[e("p",null,[e("strong",null,"És obligatori indicar en la capçalera del mètode que pot llançar excepcions"),i(". Per a això s’ha d’afegir, a la dreta de la capçalera i abans de les claus, la paraula reservada "),e("code",null,"throws"),i(" seguit de la "),e("strong",null,"mena d'excepció"),i(" que pot llançar (si pot llançar diferents tipus d'excepcions deuen indicar-se totes separades per comes).")],-1),e("p",null,[i("Per exemple, vegem el mètode "),e("em",null,"setEdat(int edat)"),i(" de la classe "),e("em",null,"Persona"),i(". Com hem decidit que l'edat d'una persona no pot ser negativa, llançarem una excepció si edat < 0.")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// Setter de l'atribut edat. Ha de ser >= 0")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," setEdat"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," edat) throws Exception {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (edat "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Exception"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Edat negativa no permesa"'),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    else")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"        this"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".edat "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," edat;")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1,__:[1]})]),_:1}),s[7]||(s[7]=e("p",null,[i("Cal tindre en compte que "),e("strong",null,"en llançar una excepció es pararà l'execució d'aquest mètode (no s'executarà la resta del codi del mètode) i es llançarà l'excepció al mètode que el va cridar"),i(". Si, per exemple, des de la funció "),e("em",null,"crearPersona()"),i(" cridem a "),e("em",null,"setEdat()"),i(", com pot succeir que "),e("em",null,"setEdat()"),i(" llance una excepció, llavors en la pràctica és possible que la funció "),e("em",null,"crearPersona()"),i(" llance una excepció.")],-1)),a(t,null,{default:l(()=>[a(n,{label:"Java"},{default:l(()=>s[2]||(s[2]=[e("p",null,[i("Per tant, també hem d'especificar en la funció "),e("em",null,"crearPersona()"),i(" que es pot llançar una excepció:")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," crearPersona"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() throws Exception {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    Persona p "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Persona"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"44193900L"'),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Pepito"'),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"27"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ...")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ...")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    p."),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"setEdat"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(valor); "),e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// Pot llançar una excepció")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1)])),_:1,__:[2]})]),_:1}),s[8]||(s[8]=e("h2",{id:"_2-4-llancar-diferents-tipus-d-excepcions",tabindex:"-1"},[i("2.4. Llançar diferents tipus d'excepcions "),e("a",{class:"header-anchor",href:"#_2-4-llancar-diferents-tipus-d-excepcions","aria-label":`Permalink to "2.4. Llançar diferents tipus d'excepcions"`},"​")],-1)),s[9]||(s[9]=e("p",null,[e("strong",null,"Un mètode pot llançar diferents tipus d'excepcions"),i(".")],-1)),a(t,null,{default:l(()=>[a(n,{label:"Java"},{default:l(()=>s[3]||(s[3]=[e("p",null,[i("En tal cas, "),e("strong",null,"cal especificar tots els tipus possibles en la capçalera, separats per comes"),i(". Per exemple, imaginem que el constructor de "),e("em",null,"Persona"),i(" pren com a arguments el dni i l'edat, i volem llançar excepcions diferents segons cada cas.")],-1),e("div",{class:"language-java vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"java"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Persona"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(String dni, "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"int"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," edat) throws InvalidDniException, InvalidEdatException {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"dni."),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"matches"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"^[0-9]{8}[A-Z]"'),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")) {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," InvalidDniException"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"DNI no vàlid: "'),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," +"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," dni);")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"    if"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (edat "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 0"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        throw"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," InvalidEdatException"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Edat no vàlida: "'),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," +"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," edat);")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    this"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".dni "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," dni;")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    this"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".edat "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," edat;")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])])],-1),e("div",{class:"warning custom-block"},[e("p",{class:"custom-block-title"},[e("strong",null,"ATENCIÓ")]),e("p",null,[i("Compte: tingueu en compte que "),e("em",null,"InvalidEdatException"),i(" i "),e("em",null,"InvalidDniException"),i(" no són tipus d'excepcions de Java, sinó excepcions pròpies que nosaltres hauríem definit a mida per al nostre programari (veure apartat 5).")])],-1)])),_:1,__:[3]})]),_:1}),s[10]||(s[10]=e("h2",{id:"_2-5-les-excepcions-es-llancen-de-metode-a-metode-hot-potato",tabindex:"-1"},[i("2.5. Les excepcions es llancen de mètode a mètode (“hot potato”) "),e("a",{class:"header-anchor",href:"#_2-5-les-excepcions-es-llancen-de-metode-a-metode-hot-potato","aria-label":'Permalink to "2.5. Les excepcions es llancen de mètode a mètode (“hot potato”)"'},"​")],-1)),s[11]||(s[11]=e("p",null,"Observeu que el llançament d'excepcions es produeix recursivament a través de la seqüència de crides a mètodes. Imaginem que en el mètode A cridem al mètode B, que crida al mètode C, etc. fins a arribar a E.",-1)),s[12]||(s[12]=e("p",null,"A → B → C → D → E (seqüència de crides de mètodes)",-1)),s[13]||(s[13]=e("p",null,"Si el mètode E llança una excepció, aquesta li arribarà a D que al seu temps li la llançarà a C, etc. recorrent el camí invers fins a arribar al mètode inicial A.",-1)),s[14]||(s[14]=e("p",null,"A ← B ← C ← D ← E (seqüència de llançament d'excepcions)",-1)),a(t,null,{default:l(()=>[a(n,{label:"Java"},{default:l(()=>s[4]||(s[4]=[e("p",null,[i("Per tant, com tots aquests mètodes poden acabar llançant una excepció, en les seues capçaleres caldrà incloure el "),e("code",null,"throws Exception"),i(" (o el que corresponga segons el tipus d'excepció).")],-1),e("div",{class:"warning custom-block"},[e("p",{class:"custom-block-title"},[e("strong",null,"ATENCIÓ")]),e("p",null,[e("strong",null,"Compte: no és recomanable deixar que les excepcions del nostre programari arriben de manera descontrolada fins al main i acaben el programa. El més ideal és manejar les excepcions"),i(" com veurem en el següent apartat.")])],-1)])),_:1,__:[4]})]),_:1})])}const F=p(c,[["render",k]]);export{b as __pageData,F as default};
